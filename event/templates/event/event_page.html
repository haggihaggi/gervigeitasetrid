{% extends "base.html" %}
{% load wagtailcore_tags wagtailimages_tags %}


{% block content %}
  <article style="max-width: 800px; margin: auto;">
    <h1>{{ page.title }}</h1>

    {% if page.tags.all %}
        <div class="tags" style="margin-bottom: 1em;">
            {% for tag in page.tags.all %}
                <a href="{% pageurl page.get_parent %}?tag={{ tag.name|urlencode }}" 
                   style="display: inline-block; background-color: #eee; padding: 0.25em 0.5em; margin-right: 0.25em; border-radius: 4px; font-size: 0.9em; text-decoration: none; color: #333;">
                    {{ tag.name }}
                </a>
            {% endfor %}
        </div>
    {% endif %}

    <div style="display: flex; gap: 2em; margin: 2em 0;">
        <div class="event-details" style="flex: 1; min-width: 200px;">
            <p>{{ page.date|date:"F j, Y" }}</p>

            {% if page.start_time and page.end_time %}
              <p>{{ page.start_time|time:"H:i" }} - {{ page.end_time|time:"H:i" }}</p>
            {% endif %}

            <p>{{ page.location }}</p>
            <p>{{ page.get_event_type_display }}</p>

            {% if page.event_type == "lecture" %}
              {% if page.host %}
                <p>{{ page.host }}</p>
              {% endif %}
              {% if page.speaker %}
                <p>{{ page.speaker }}</p>
              {% endif %}
            {% endif %}
        </div>

        {% if page.event_image %}
            <div style="flex: 2;">
                {% image page.event_image fill-500x375 %}
            </div>
        {% endif %}
    </div>

    <div class="description" style="margin-top: 2em;">
        {{ page.description }}
    </div>
  </article>
{% endblock %}
