{% extends "base.html" %}
{% load wagtailcore_tags wagtailimages_tags i18n i18n_extra %}


{% block content %}
  <article style="max-width: 800px; margin: auto;">
    <h1>{{ page.title }}</h1>

    {% if page.tags.all %}
        <p><strong>{% trans "Tögg:" %}</strong>
            {% for tag in page.tags.all %}
                <a href="{% pageurl page.get_parent %}?tag={{ tag.name|urlencode }}" 
                   style="display: inline-block; background-color: #eee; padding: 0.25em 0.5em; margin-right: 0.25em; border-radius: 4px; font-size: 0.9em; text-decoration: none; color: #333;">
                    {{ tag.name }}
                </a>
            {% endfor %}
        </div>
    {% endif %}

    <div style="display: flex; gap: 2em; margin: 2em 0;">
        <div class="event-details" style="flex: 1; min-width: 200px;">
            <p>{{ page.date|date:"F j, Y" }}</p>

            {% if page.start_time and page.end_time %}
              <p>{{ page.start_time|time:"H:i" }} - {{ page.end_time|time:"H:i" }}</p>
            {% endif %}

            <p>{{ page.location }}</p>
            <p>{{ page.get_event_type_display }}</p>

    <p><strong>{% trans "Dagsetning:" %}</strong> {{ page.date }}</p>

    {% if page.start_time and page.end_time %}
      <p><strong>{% trans "Tími:" %}</strong> {{ page.start_time|time:"H:i" }} - {{ page.end_time|time:"H:i" }}</p>
    {% endif %}

    <p><strong>{% trans "Staðsetning:" %}</strong> {{ page.location }}</p>
    <p><strong>{% trans "Tegund:" %}</strong> {{ page.get_event_type_display }}</p>

    {% if page.event_type == "lecture" %}
      <p><strong>{% trans "Gestgjafi:" %}</strong> {{ page.host }}</p>
      <p><strong>{% trans "Kynnir:" %}</strong> {{ page.speaker }}</p>
    {% endif %}

    <hr>

    <div>
      <h3>{% trans "Lýsing:" %}</h3>
      <p>{{ page.description }}</p>
    </div>
  </article>
{% endblock %}
